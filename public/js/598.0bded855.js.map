{"version":3,"file":"js/598.0bded855.js","mappings":"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","sources":["webpack://starter-kit/./src/pages/Subscribe.vue","webpack://starter-kit/./src/pages/Subscribe.vue?17d4"],"sourcesContent":["<!-- src/views/Subscribe.vue -->\n<template>\n  <div>\n    <h3>إدارة الاشتراكات</h3>\n    <div class=\"card p-3 col-8\">\n\n\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4>الأشتراكات الحالية</h4>\n        </div>\n        <div class=\"table-responsive theme-scrollbar\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th scope=\"col\">رقم</th>\n                <th scope=\"col\">الحاله</th>\n                <th scope=\"col\">تاريخ التجديد</th>\n                <th scope=\"col\">تاريخ الإ‘نتهاء</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"sub in subs\" :key=\"sub.id\">\n                <th scope=\"row\">{{ sub.id }}</th>\n                <td\n                  class=\"d-flex align-items-center\"\n                  v-if=\"isSubscriptionActive(sub.startAt)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    class=\"feather feather-alert-triangle bg-light-danger font-danger\"\n                  >\n                    <path\n                      d=\"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z\"\n                    ></path>\n                    <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\"></line>\n                    <line x1=\"12\" y1=\"17\" x2=\"12\" y2=\"17\"></line></svg\n                  ><span class=\"font-danger\">غير مفعل</span>\n                </td>\n\n                <td\n                  class=\"d-flex align-items-center\"\n                  v-if=\"!isSubscriptionActive(sub.startAt)\"\n                >\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    stroke-width=\"2\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    class=\"feather feather-alert-circle bg-light-primary font-primary\"\n                  >\n                    <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n                    <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n                    <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"16\"></line></svg\n                  ><span class=\"font-primary\">مفعل</span>\n                </td>\n                <td>{{formatArabicDate(sub.startAt)}}</td>\n                <td>{{formatArabicDate(sub.endAt)}}</td>\n              \n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"mt-2\">\n              <button class=\"btn btn-success\" @click=\"subscribe\" :disabled=\"loading\">\n        {{ loading ? \"جار التفعيل\" : \" إشتراك لمدة 14 مجانى الأن\" }}\n      </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { onMounted, ref } from \"vue\";\n\nexport default {\n  setup() {\n    const loading = ref(false);\n    const status = ref(null);\n    const subs = ref([]);\n    async function subscribe() {\n      loading.value = true;\n      try {\n        const r = await axios.post(\"/api/users/subscribe\");\n        status.value = r.data.subscription || r.data;\n      } catch (err) {\n        status.value = err.response?.data || { error: err.message };\n      } finally {\n        loading.value = false;\n      }\n    }\n\n    async function loadSubs() {\n      loading.value = true;\n\n      try {\n        const r = await axios.get(\"/api/users/subscriptions\");\n\n        subs.value = r.data.subscriptions || [];\n      } catch (err) {\n        status.value = err.response?.data || { error: err.message };\n      } finally {\n        loading.value = false;\n      }\n    }\n\n    function isSubscriptionActive(endAt) {\n      if (!endAt) return false;\n      const now = new Date();\n      return new Date(endAt) > now;\n    }\n\n    function formatArabicDate(dateStr) {\n      if (!dateStr) return \"\";\n      const date = new Date(dateStr);\n      return date.toLocaleDateString(\"ar-EG\", {\n        weekday: \"long\", // الجمعة\n        year: \"numeric\", // 2025\n        month: \"long\", // سبتمبر\n        day: \"numeric\", // 30\n      });\n    }\n\n    onMounted(loadSubs);\n    return { loading, subscribe, status, subs, loadSubs, isSubscriptionActive ,formatArabicDate };\n  },\n};\n</script>","import { render } from \"./Subscribe.vue?vue&type=template&id=71df1a0b\"\nimport script from \"./Subscribe.vue?vue&type=script&lang=js\"\nexport * from \"./Subscribe.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","scope","_createElementBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$setup","subs","sub","key","id","_hoisted_5","_toDisplayString","isSubscriptionActive","startAt","_hoisted_6","_toConsumableArray","_cache","_hoisted_7","formatArabicDate","endAt","_hoisted_8","onClick","subscribe","apply","arguments","disabled","loading","_hoisted_9","setup","ref","status","_subscribe","_asyncToGenerator","_regenerator","m","_callee","r","_err$response","_t","w","_context","p","n","value","axios","post","v","data","subscription","response","error","message","f","a","loadSubs","_loadSubs","_callee2","_err$response2","_t2","_context2","get","subscriptions","now","Date","dateStr","date","toLocaleDateString","weekday","year","month","day","onMounted","__exports__","render"],"sourceRoot":""}